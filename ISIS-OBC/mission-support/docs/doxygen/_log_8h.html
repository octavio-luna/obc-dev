<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ISIS-OBC Programmers Reference (MSU): include/mission-support/Log.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ISIS-OBC Programmers Reference (MSU)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_7e3221c7f387d207bbdf04f83e297176.html">mission-support</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Log.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A logging library that can be used to sequentially store any kind of data such as: error logs, housekeeping data or payload data. There is a maximum number of logs that can exist simultaneously, as defined by LOG_MAX_NO_OF_LOGS.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;hal/boolean.h&gt;</code><br />
<code>#include &lt;hal/Timing/Time.h&gt;</code><br />
<code>#include &lt;hcc/api_fat.h&gt;</code><br />
</div>
<p><a href="_log_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___log_entry.html">_LogEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___log_init.html">_LogInit</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___log_stats.html">_LogStats</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___log_reader.html">_LogReader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a795b22ec02ac13db4be66e6a4e7056e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a795b22ec02ac13db4be66e6a4e7056e5">E_LOG_NO_ERROR</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a795b22ec02ac13db4be66e6a4e7056e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">No error occurred.  <a href="#a795b22ec02ac13db4be66e6a4e7056e5">More...</a><br /></td></tr>
<tr class="separator:a795b22ec02ac13db4be66e6a4e7056e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65ae74882d2ed2ffcece5dd96476771b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a65ae74882d2ed2ffcece5dd96476771b">E_LOG_FRAM_CLEARED</a>&#160;&#160;&#160;-1</td></tr>
<tr class="memdesc:a65ae74882d2ed2ffcece5dd96476771b"><td class="mdescLeft">&#160;</td><td class="mdescRight">FRAM was cleared on start-up because it was too far out of sync with File.  <a href="#a65ae74882d2ed2ffcece5dd96476771b">More...</a><br /></td></tr>
<tr class="separator:a65ae74882d2ed2ffcece5dd96476771b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811c31bcda7ae5919a8922d8d270969a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a811c31bcda7ae5919a8922d8d270969a">E_LOG_FS_ERROR</a>&#160;&#160;&#160;-2</td></tr>
<tr class="memdesc:a811c31bcda7ae5919a8922d8d270969a"><td class="mdescLeft">&#160;</td><td class="mdescRight">File-System error (SD-Card).  <a href="#a811c31bcda7ae5919a8922d8d270969a">More...</a><br /></td></tr>
<tr class="separator:a811c31bcda7ae5919a8922d8d270969a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363c7eee1be2788ee02a24f89e1a6d77"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a363c7eee1be2788ee02a24f89e1a6d77">E_LOG_FRAM_ERROR</a>&#160;&#160;&#160;-4</td></tr>
<tr class="memdesc:a363c7eee1be2788ee02a24f89e1a6d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error while reading or writing FRAM.  <a href="#a363c7eee1be2788ee02a24f89e1a6d77">More...</a><br /></td></tr>
<tr class="separator:a363c7eee1be2788ee02a24f89e1a6d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcee5a2dbf6610d5ff4aa33f7b35513f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#adcee5a2dbf6610d5ff4aa33f7b35513f">E_LOG_RAM_ERROR</a>&#160;&#160;&#160;-8</td></tr>
<tr class="memdesc:adcee5a2dbf6610d5ff4aa33f7b35513f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error while manipulating log-data in RAM.  <a href="#adcee5a2dbf6610d5ff4aa33f7b35513f">More...</a><br /></td></tr>
<tr class="separator:adcee5a2dbf6610d5ff4aa33f7b35513f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03bc46d0553cb55cb57162339dd13874"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a03bc46d0553cb55cb57162339dd13874">E_LOG_MALLOC_ERROR</a>&#160;&#160;&#160;-16</td></tr>
<tr class="memdesc:a03bc46d0553cb55cb57162339dd13874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error while allocating memory.  <a href="#a03bc46d0553cb55cb57162339dd13874">More...</a><br /></td></tr>
<tr class="separator:a03bc46d0553cb55cb57162339dd13874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c63fc5260e8aeccbf372e53d4a54c74"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a3c63fc5260e8aeccbf372e53d4a54c74">E_LOG_INVALID_INPUT</a>&#160;&#160;&#160;-32</td></tr>
<tr class="memdesc:a3c63fc5260e8aeccbf372e53d4a54c74"><td class="mdescLeft">&#160;</td><td class="mdescRight">User-input was invalid.  <a href="#a3c63fc5260e8aeccbf372e53d4a54c74">More...</a><br /></td></tr>
<tr class="separator:a3c63fc5260e8aeccbf372e53d4a54c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63806ed08b9d13dd2f1bed13035d9a2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a63806ed08b9d13dd2f1bed13035d9a2e">E_LOG_TIMESTAMP_ERROR</a>&#160;&#160;&#160;-64</td></tr>
<tr class="memdesc:a63806ed08b9d13dd2f1bed13035d9a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error while retrieving time to be added to a log-entry. The log will still store data if this error happens.  <a href="#a63806ed08b9d13dd2f1bed13035d9a2e">More...</a><br /></td></tr>
<tr class="separator:a63806ed08b9d13dd2f1bed13035d9a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9549cdb7f21dd07c8f289399a266d7cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a9549cdb7f21dd07c8f289399a266d7cb">E_LOG_ENTRY_NOT_FOUND</a>&#160;&#160;&#160;-128</td></tr>
<tr class="memdesc:a9549cdb7f21dd07c8f289399a266d7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unable to find the requested log-entry.  <a href="#a9549cdb7f21dd07c8f289399a266d7cb">More...</a><br /></td></tr>
<tr class="separator:a9549cdb7f21dd07c8f289399a266d7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2dc21f5a2af0f96af029bf216b0362f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#ad2dc21f5a2af0f96af029bf216b0362f">E_LOG_FRAM_ADDR</a>&#160;&#160;&#160;-256</td></tr>
<tr class="memdesc:ad2dc21f5a2af0f96af029bf216b0362f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempting to use an invalid FRAM address.  <a href="#ad2dc21f5a2af0f96af029bf216b0362f">More...</a><br /></td></tr>
<tr class="separator:ad2dc21f5a2af0f96af029bf216b0362f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3086843869b1bd3ed7b10877c0411b5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a3086843869b1bd3ed7b10877c0411b5e">E_LOG_FRAM_OVERLAP</a>&#160;&#160;&#160;-512</td></tr>
<tr class="memdesc:a3086843869b1bd3ed7b10877c0411b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempting to use FRAM space allocated for something else.  <a href="#a3086843869b1bd3ed7b10877c0411b5e">More...</a><br /></td></tr>
<tr class="separator:a3086843869b1bd3ed7b10877c0411b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531baabc1e154c594773ba6a088299d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a531baabc1e154c594773ba6a088299d9">E_LOG_MAX_LOGS</a>&#160;&#160;&#160;-1024</td></tr>
<tr class="memdesc:a531baabc1e154c594773ba6a088299d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exceeding max number of log.  <a href="#a531baabc1e154c594773ba6a088299d9">More...</a><br /></td></tr>
<tr class="separator:a531baabc1e154c594773ba6a088299d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23686f3bda55966021e60ab2b8b80ba1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a23686f3bda55966021e60ab2b8b80ba1">LOG_MAX_NO_OF_LOGS</a>&#160;&#160;&#160;25</td></tr>
<tr class="separator:a23686f3bda55966021e60ab2b8b80ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a21afc05de32960c5f81a240482819247"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___log_entry.html">_LogEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a></td></tr>
<tr class="separator:a21afc05de32960c5f81a240482819247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebbecacb14f5a490748bfa01cbb5b3e1"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___log_init.html">_LogInit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#aebbecacb14f5a490748bfa01cbb5b3e1">LogInit</a></td></tr>
<tr class="separator:aebbecacb14f5a490748bfa01cbb5b3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e69547341215f48b341a85539dba42c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___log_stats.html">_LogStats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a6e69547341215f48b341a85539dba42c">LogStats</a></td></tr>
<tr class="separator:a6e69547341215f48b341a85539dba42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda7f4c71cddd5db9b2b28e9ec70d4ba"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_log_8h.html#a3b1677f225bfb5290c3d8205e8d57916">_LogEntrySource</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#abda7f4c71cddd5db9b2b28e9ec70d4ba">LogEntrySource</a></td></tr>
<tr class="separator:abda7f4c71cddd5db9b2b28e9ec70d4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8f2e24b6855a175ada5358159c4716"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___log_reader.html">_LogReader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a></td></tr>
<tr class="separator:a6c8f2e24b6855a175ada5358159c4716"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a3b1677f225bfb5290c3d8205e8d57916"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a3b1677f225bfb5290c3d8205e8d57916">_LogEntrySource</a> { <a class="el" href="_log_8h.html#a3b1677f225bfb5290c3d8205e8d57916a824f99215fc41751931dcd5e6844e084">none_log</a>, 
<a class="el" href="_log_8h.html#a3b1677f225bfb5290c3d8205e8d57916a99e2b9b9766181044bf82d97cce465db">RAM_log</a>, 
<a class="el" href="_log_8h.html#a3b1677f225bfb5290c3d8205e8d57916ada89e0dc1dd4f663b4d81d8e98cfa48b">FRAM_log</a>, 
<a class="el" href="_log_8h.html#a3b1677f225bfb5290c3d8205e8d57916a136f430a1787bb14ba50615000ad92cf">File_log</a>
 }</td></tr>
<tr class="separator:a3b1677f225bfb5290c3d8205e8d57916"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ace5c5fe92e0e86ffed643f15da9ad560"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#ace5c5fe92e0e86ffed643f15da9ad560">Log_start</a> (<a class="el" href="_log_8h.html#aebbecacb14f5a490748bfa01cbb5b3e1">LogInit</a> *loginit, Boolean firstInit, int *logid)</td></tr>
<tr class="separator:ace5c5fe92e0e86ffed643f15da9ad560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a457381b9131e6cc3d43c3dfbaad5b351"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a457381b9131e6cc3d43c3dfbaad5b351">Log_clear</a> (int logid)</td></tr>
<tr class="separator:a457381b9131e6cc3d43c3dfbaad5b351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6576b704d35678a72b40f6395f5aa519"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a6576b704d35678a72b40f6395f5aa519">Log_clearRAM</a> (int logid)</td></tr>
<tr class="separator:a6576b704d35678a72b40f6395f5aa519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87dcaae0e8d3ef3329bf7baa48b5e06"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#ad87dcaae0e8d3ef3329bf7baa48b5e06">Log_flushLogFile</a> (int logid)</td></tr>
<tr class="separator:ad87dcaae0e8d3ef3329bf7baa48b5e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ef813f90237ddf611a8e6a593f5feb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a87ef813f90237ddf611a8e6a593f5feb">Log_getStats</a> (int logid, <a class="el" href="_log_8h.html#a6e69547341215f48b341a85539dba42c">LogStats</a> *stats)</td></tr>
<tr class="separator:a87ef813f90237ddf611a8e6a593f5feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae057910ef273eeb9dc0b915f98e718a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#ae057910ef273eeb9dc0b915f98e718a2">Log_add</a> (int logid, void *data)</td></tr>
<tr class="separator:ae057910ef273eeb9dc0b915f98e718a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3987d866b8970ae8f833df3445b5bfb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#ad3987d866b8970ae8f833df3445b5bfb">Log_readLastEntry</a> (int logid, <a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *entry)</td></tr>
<tr class="separator:ad3987d866b8970ae8f833df3445b5bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa98aef17d556027076df79c94b225ad5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#aa98aef17d556027076df79c94b225ad5">Log_readOnce</a> (int logid, unsigned int entryNumber, <a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *entry)</td></tr>
<tr class="separator:aa98aef17d556027076df79c94b225ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1752402fea840044eab088a51d9e97f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#ab1752402fea840044eab088a51d9e97f">Log_readStart</a> (int logid, unsigned int entryNumber, <a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a> *logReader, <a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *entry)</td></tr>
<tr class="separator:ab1752402fea840044eab088a51d9e97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b0da986cb69528091776240d8649a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#ae8b0da986cb69528091776240d8649a2">Log_readNext</a> (<a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a> *logReader, <a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *entry)</td></tr>
<tr class="separator:ae8b0da986cb69528091776240d8649a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fee705b164eedac5aa9f986acb6cbc9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a7fee705b164eedac5aa9f986acb6cbc9">Log_readPrevious</a> (<a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a> *logReader, <a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *entry)</td></tr>
<tr class="separator:a7fee705b164eedac5aa9f986acb6cbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2025697fb03dacf7b2c818574046f7f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a2025697fb03dacf7b2c818574046f7f6">Log_readStop</a> (<a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a> *logReader)</td></tr>
<tr class="separator:a2025697fb03dacf7b2c818574046f7f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadeb640638c4a3373fadc127e128d24d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#aadeb640638c4a3373fadc127e128d24d">Log_getLastEntryNumber</a> (int logid, unsigned int *entryNumber)</td></tr>
<tr class="separator:aadeb640638c4a3373fadc127e128d24d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f0967924bb34f5c53318932526a197"><td class="memItemLeft" align="right" valign="top">Boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_log_8h.html#a66f0967924bb34f5c53318932526a197">LogEntry_verifyCRC</a> (<a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *logentry, unsigned int entrysize)</td></tr>
<tr class="separator:a66f0967924bb34f5c53318932526a197"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A logging library that can be used to sequentially store any kind of data such as: error logs, housekeeping data or payload data. There is a maximum number of logs that can exist simultaneously, as defined by LOG_MAX_NO_OF_LOGS. </p>
<p>This module is designed to store data redundantly in multiple locations including RAM, FRAM and SD-Card file. The number of log-entries to store in each media can be configured on startup. This ensures that there is at least some data available in the small but very reliable non-volatile storage of FRAM while using SD-Card as the mass-media. RAM can be used for quick-retrieval of the past-data.</p>
<p>The latest entries are stored redundantly in all-enabled storage media. To demonstrate, suppose maxEntriesInFRAM = 4, maxEntriesInRAM = 10 and maxEntriesInFile = 512 This means, the newest 4 entries will be present in all-3 storage media, the next 6 entries will be present in both RAM and SD-Card and older entries will be only present in a file on the SD-Card.</p>
<p>When the user requests to read an entry from the Log for the first time, the logger first searches the RAM, then FRAM, and lastly the file. In this way, faster memory is accessed first for retrieving data. When the user requests further entries, first the entry that last returned data is tried. If data is not found there, other memories are searched.</p>
<p>The log data is protected by adding an 8-bit CRC to every entry in the log. The module also adds the current timestamp whenever any data is added to the log. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9549cdb7f21dd07c8f289399a266d7cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9549cdb7f21dd07c8f289399a266d7cb">&#9670;&nbsp;</a></span>E_LOG_ENTRY_NOT_FOUND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_ENTRY_NOT_FOUND&#160;&#160;&#160;-128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unable to find the requested log-entry. </p>

</div>
</div>
<a id="ad2dc21f5a2af0f96af029bf216b0362f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2dc21f5a2af0f96af029bf216b0362f">&#9670;&nbsp;</a></span>E_LOG_FRAM_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_FRAM_ADDR&#160;&#160;&#160;-256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempting to use an invalid FRAM address. </p>

</div>
</div>
<a id="a65ae74882d2ed2ffcece5dd96476771b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65ae74882d2ed2ffcece5dd96476771b">&#9670;&nbsp;</a></span>E_LOG_FRAM_CLEARED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_FRAM_CLEARED&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FRAM was cleared on start-up because it was too far out of sync with File. </p>

</div>
</div>
<a id="a363c7eee1be2788ee02a24f89e1a6d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a363c7eee1be2788ee02a24f89e1a6d77">&#9670;&nbsp;</a></span>E_LOG_FRAM_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_FRAM_ERROR&#160;&#160;&#160;-4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error while reading or writing FRAM. </p>

</div>
</div>
<a id="a3086843869b1bd3ed7b10877c0411b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3086843869b1bd3ed7b10877c0411b5e">&#9670;&nbsp;</a></span>E_LOG_FRAM_OVERLAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_FRAM_OVERLAP&#160;&#160;&#160;-512</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempting to use FRAM space allocated for something else. </p>

</div>
</div>
<a id="a811c31bcda7ae5919a8922d8d270969a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811c31bcda7ae5919a8922d8d270969a">&#9670;&nbsp;</a></span>E_LOG_FS_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_FS_ERROR&#160;&#160;&#160;-2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>File-System error (SD-Card). </p>

</div>
</div>
<a id="a3c63fc5260e8aeccbf372e53d4a54c74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c63fc5260e8aeccbf372e53d4a54c74">&#9670;&nbsp;</a></span>E_LOG_INVALID_INPUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_INVALID_INPUT&#160;&#160;&#160;-32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User-input was invalid. </p>

</div>
</div>
<a id="a03bc46d0553cb55cb57162339dd13874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03bc46d0553cb55cb57162339dd13874">&#9670;&nbsp;</a></span>E_LOG_MALLOC_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_MALLOC_ERROR&#160;&#160;&#160;-16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error while allocating memory. </p>

</div>
</div>
<a id="a531baabc1e154c594773ba6a088299d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a531baabc1e154c594773ba6a088299d9">&#9670;&nbsp;</a></span>E_LOG_MAX_LOGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_MAX_LOGS&#160;&#160;&#160;-1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exceeding max number of log. </p>

</div>
</div>
<a id="a795b22ec02ac13db4be66e6a4e7056e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795b22ec02ac13db4be66e6a4e7056e5">&#9670;&nbsp;</a></span>E_LOG_NO_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_NO_ERROR&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No error occurred. </p>

</div>
</div>
<a id="adcee5a2dbf6610d5ff4aa33f7b35513f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcee5a2dbf6610d5ff4aa33f7b35513f">&#9670;&nbsp;</a></span>E_LOG_RAM_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_RAM_ERROR&#160;&#160;&#160;-8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error while manipulating log-data in RAM. </p>

</div>
</div>
<a id="a63806ed08b9d13dd2f1bed13035d9a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63806ed08b9d13dd2f1bed13035d9a2e">&#9670;&nbsp;</a></span>E_LOG_TIMESTAMP_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define E_LOG_TIMESTAMP_ERROR&#160;&#160;&#160;-64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error while retrieving time to be added to a log-entry. The log will still store data if this error happens. </p>

</div>
</div>
<a id="a23686f3bda55966021e60ab2b8b80ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23686f3bda55966021e60ab2b8b80ba1">&#9670;&nbsp;</a></span>LOG_MAX_NO_OF_LOGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_MAX_NO_OF_LOGS&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a21afc05de32960c5f81a240482819247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21afc05de32960c5f81a240482819247">&#9670;&nbsp;</a></span>LogEntry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___log_entry.html">_LogEntry</a>  <a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A log entry as returned by functions that retrieve data from the logs. </p>

</div>
</div>
<a id="abda7f4c71cddd5db9b2b28e9ec70d4ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda7f4c71cddd5db9b2b28e9ec70d4ba">&#9670;&nbsp;</a></span>LogEntrySource</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_log_8h.html#a3b1677f225bfb5290c3d8205e8d57916">_LogEntrySource</a>  <a class="el" href="_log_8h.html#abda7f4c71cddd5db9b2b28e9ec70d4ba">LogEntrySource</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Storage source of a log entry. The library will first try to retrieve the entry from RAM, then from FRAM and then from SD-Card. </p>

</div>
</div>
<a id="aebbecacb14f5a490748bfa01cbb5b3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebbecacb14f5a490748bfa01cbb5b3e1">&#9670;&nbsp;</a></span>LogInit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___log_init.html">_LogInit</a>  <a class="el" href="_log_8h.html#aebbecacb14f5a490748bfa01cbb5b3e1">LogInit</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A LogInit structure contains all the information required to start / initialize a log</p>
<dl class="section note"><dt>Note</dt><dd>If a log is initialized with maxEntriesInFile set to 0, no data for that log will be stored in the SD-Card. Similarly, if maxEntriesInFRAM is set to 0, no data for that log will be stored in FRAM. </dd></dl>

</div>
</div>
<a id="a6c8f2e24b6855a175ada5358159c4716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c8f2e24b6855a175ada5358159c4716">&#9670;&nbsp;</a></span>LogReader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___log_reader.html">_LogReader</a>  <a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A log reader structure is comparable to a file structure of the file system library. The Log_readStart function will initialize this which then needs to be passed to Log_readNext and Log_readPrevious functions to continue reading entries from the log.</p>
<dl class="section note"><dt>Note</dt><dd>Members of this structure are for internal use by the logger and should be treated as READ-ONLY by user code. </dd></dl>

</div>
</div>
<a id="a6e69547341215f48b341a85539dba42c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e69547341215f48b341a85539dba42c">&#9670;&nbsp;</a></span>LogStats</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___log_stats.html">_LogStats</a>  <a class="el" href="_log_8h.html#a6e69547341215f48b341a85539dba42c">LogStats</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A LogStart structure contains statistics about a log </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a3b1677f225bfb5290c3d8205e8d57916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b1677f225bfb5290c3d8205e8d57916">&#9670;&nbsp;</a></span>_LogEntrySource</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_log_8h.html#a3b1677f225bfb5290c3d8205e8d57916">_LogEntrySource</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Storage source of a log entry. The library will first try to retrieve the entry from RAM, then from FRAM and then from SD-Card. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3b1677f225bfb5290c3d8205e8d57916a824f99215fc41751931dcd5e6844e084"></a>none_log&#160;</td><td class="fielddoc"><p>none_log </p>
</td></tr>
<tr><td class="fieldname"><a id="a3b1677f225bfb5290c3d8205e8d57916a99e2b9b9766181044bf82d97cce465db"></a>RAM_log&#160;</td><td class="fielddoc"><p>RAM_log. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3b1677f225bfb5290c3d8205e8d57916ada89e0dc1dd4f663b4d81d8e98cfa48b"></a>FRAM_log&#160;</td><td class="fielddoc"><p>FRAM_log. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3b1677f225bfb5290c3d8205e8d57916a136f430a1787bb14ba50615000ad92cf"></a>File_log&#160;</td><td class="fielddoc"><p>File_log. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae057910ef273eeb9dc0b915f98e718a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae057910ef273eeb9dc0b915f98e718a2">&#9670;&nbsp;</a></span>Log_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_add </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds an entry into the log. As long as adding an entry to at least one of the storage media succeeds, the added data is available in the log and nextEntryNumber is incremented. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier for the log. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the data to be added to the log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>In case of E_LOG_TIMESTAMP_ERROR, this function will still store the entry but will 0xFF as year and 0xFFFFFFFF as secondsOfYear for the timestamp. </dd></dl>

</div>
</div>
<a id="a457381b9131e6cc3d43c3dfbaad5b351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a457381b9131e6cc3d43c3dfbaad5b351">&#9670;&nbsp;</a></span>Log_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_clear </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears up the data stored for the given log. </p><dl class="section note"><dt>Note</dt><dd>The Log file will be truncated so all LogReaders need to be stopped before calling this function, otherwise the file truncation will fail. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier for the log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details. </dd></dl>

</div>
</div>
<a id="a6576b704d35678a72b40f6395f5aa519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6576b704d35678a72b40f6395f5aa519">&#9670;&nbsp;</a></span>Log_clearRAM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_clearRAM </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears up the data stored for the given log in RAM. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier for the log. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad87dcaae0e8d3ef3329bf7baa48b5e06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad87dcaae0e8d3ef3329bf7baa48b5e06">&#9670;&nbsp;</a></span>Log_flushLogFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_flushLogFile </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Force a flush / commit of the Log file, writing any outstanding log entries to the disk </p><dl class="section note"><dt>Note</dt><dd>Intended for use when fileFlushOnAdd in LogInit is set to FALSE </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier of the log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details. </dd></dl>

</div>
</div>
<a id="aadeb640638c4a3373fadc127e128d24d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadeb640638c4a3373fadc127e128d24d">&#9670;&nbsp;</a></span>Log_getLastEntryNumber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_getLastEntryNumber </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>entryNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides the entry number of the last entry that was added into the log. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier for the log </td></tr>
    <tr><td class="paramname">entryNumber</td><td>Location where the logger will store the entry number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details. </dd></dl>

</div>
</div>
<a id="a87ef813f90237ddf611a8e6a593f5feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ef813f90237ddf611a8e6a593f5feb">&#9670;&nbsp;</a></span>Log_getStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_getStats </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a6e69547341215f48b341a85539dba42c">LogStats</a> *&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get statistics for a given log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier for the log. </td></tr>
    <tr><td class="paramname">stats</td><td>Location where the log's stats should be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error. </dd></dl>

</div>
</div>
<a id="ad3987d866b8970ae8f833df3445b5bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3987d866b8970ae8f833df3445b5bfb">&#9670;&nbsp;</a></span>Log_readLastEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_readLastEntry </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the entry that was most recently added to the log. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier for the log </td></tr>
    <tr><td class="paramname">entry</td><td>Location where the read entry should be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Make sure to allocate the right size to store the retrieved log entry: <div class="fragment"><div class="line">logEntryBuffer = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct___log_entry.html">LogEntry</a>) + log.entryDataSize); </div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ae8b0da986cb69528091776240d8649a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8b0da986cb69528091776240d8649a2">&#9670;&nbsp;</a></span>Log_readNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_readNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a> *&#160;</td>
          <td class="paramname"><em>logReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the next entry from the log. </p><dl class="section note"><dt>Note</dt><dd>The reading process must be initialized by using Log_readStart before calling this function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logReader</td><td>LogReader used in Log_readStart. </td></tr>
    <tr><td class="paramname">entry</td><td>Location where the logger can store the retrieved entry. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Make sure to allocate the right size to store the retrieved log entry: <div class="fragment"><div class="line">logEntryBuffer = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct___log_entry.html">LogEntry</a>) + log.entryDataSize); </div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="aa98aef17d556027076df79c94b225ad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa98aef17d556027076df79c94b225ad5">&#9670;&nbsp;</a></span>Log_readOnce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_readOnce </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>entryNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a single entry from the log. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier for the log </td></tr>
    <tr><td class="paramname">entryNumber</td><td>The entry-number that must be retrieved. </td></tr>
    <tr><td class="paramname">entry</td><td>Location where the read entry should be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Make sure to allocate the right size to store the retrieved log entry: <div class="fragment"><div class="line">logEntryBuffer = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct___log_entry.html">LogEntry</a>) + log.entryDataSize); </div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a7fee705b164eedac5aa9f986acb6cbc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fee705b164eedac5aa9f986acb6cbc9">&#9670;&nbsp;</a></span>Log_readPrevious()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_readPrevious </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a> *&#160;</td>
          <td class="paramname"><em>logReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the previous entry from the log. </p><dl class="section note"><dt>Note</dt><dd>The reading process must be initialized by using Log_readStart before calling this function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logReader</td><td>LogReader used in Log_readStart. </td></tr>
    <tr><td class="paramname">entry</td><td>Location where the logger can store the retrieved entry. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Make sure to allocate the right size to store the retrieved log entry: <div class="fragment"><div class="line">logEntryBuffer = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct___log_entry.html">LogEntry</a>) + log.entryDataSize); </div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ab1752402fea840044eab088a51d9e97f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1752402fea840044eab088a51d9e97f">&#9670;&nbsp;</a></span>Log_readStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_readStart </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>entryNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a> *&#160;</td>
          <td class="paramname"><em>logReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts up the process of reading multiple entries from the log. After calling this function, Log_readNext or Log_readPrevious can be used to continue reading entries from the log. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logid</td><td>Identifier of the log. </td></tr>
    <tr><td class="paramname">entryNumber</td><td>The entry-number of the first entry to be retrieved. </td></tr>
    <tr><td class="paramname">logReader</td><td>Location where the logger can store a reader LogReader structure that can be used in the future to read more log-entries. </td></tr>
    <tr><td class="paramname">entry</td><td>Location where the logger can store the first entry retrieved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative values on error. See error defines for details.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Make sure to allocate the right size to store the retrieved log entry: <div class="fragment"><div class="line">logEntryBuffer = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct___log_entry.html">LogEntry</a>) + log.entryDataSize); </div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a2025697fb03dacf7b2c818574046f7f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2025697fb03dacf7b2c818574046f7f6">&#9670;&nbsp;</a></span>Log_readStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_readStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a6c8f2e24b6855a175ada5358159c4716">LogReader</a> *&#160;</td>
          <td class="paramname"><em>logReader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the process of reading from a log. This function must be called after user is finished reading from a log with Log_readStart and Log_readNext or Log_readPrevious. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logReader</td><td>LogReader used in Log_readStart. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace5c5fe92e0e86ffed643f15da9ad560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace5c5fe92e0e86ffed643f15da9ad560">&#9670;&nbsp;</a></span>Log_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Log_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_log_8h.html#aebbecacb14f5a490748bfa01cbb5b3e1">LogInit</a> *&#160;</td>
          <td class="paramname"><em>loginit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Boolean&#160;</td>
          <td class="paramname"><em>firstInit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>logid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a log. Any number of logs may be initialized simultaneously. </p><dl class="section note"><dt>Note</dt><dd>This is not a re-entrant safe function </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">loginit</td><td>Structure containing log-configuration. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">firstInit</td><td>If this is the first-time this particular log is created, this function needs to clear some space in FRAM and create a File in SD-Card so this parameter must be set to true for the first time, false otherwise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">logid</td><td>ID of the log that was started, -1 if log was not started at all </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>negative values on error. See error defines for details.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>Log </dd></dl>

</div>
</div>
<a id="a66f0967924bb34f5c53318932526a197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f0967924bb34f5c53318932526a197">&#9670;&nbsp;</a></span>LogEntry_verifyCRC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boolean LogEntry_verifyCRC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_log_8h.html#a21afc05de32960c5f81a240482819247">LogEntry</a> *&#160;</td>
          <td class="paramname"><em>logentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>entrysize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verifies whether a LogEntry's crc is still identical to what was stored, i.e. if the LogEntry's data has changed </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logentry</td><td>Pointer to LogEntry to be verified </td></tr>
    <tr><td class="paramname">entrysize</td><td>Size of LogEntry in bytes, this should be Log.stats.entrySize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE when crc calculated over LogEntry's data is equal to LogEntry's stored crc, i.e. data is unchanged, and FALSE otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 23 2022 14:12:35 for ISIS-OBC Programmers Reference (MSU) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
